From 7794e0200442c7ff3b2137de28ed1118e1bc36b6 Mon Sep 17 00:00:00 2001
From: Christian Brauner <christian.brauner@ubuntu.com>
Date: Wed, 7 Jun 2017 17:32:58 +0200
Subject: storage: insert driver correctly

Closes  #3386.

Signed-off-by: Christian Brauner <christian.brauner@ubuntu.com>
---
 lxd/db_storage_pools.go | 2 +-
 lxd/patches.go          | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/lxd/db_storage_pools.go b/lxd/db_storage_pools.go
index c304eba5..f340c7cb 100644
--- a/lxd/db_storage_pools.go
+++ b/lxd/db_storage_pools.go
@@ -132,7 +132,7 @@ func dbStoragePoolConfigGet(db *sql.DB, poolID int64) (map[string]string, error)
 }
 
 // Create new storage pool.
-func dbStoragePoolCreate(db *sql.DB, poolName, poolDescription string, poolDriver string, poolConfig map[string]string) (int64, error) {
+func dbStoragePoolCreate(db *sql.DB, poolName string, poolDescription string, poolDriver string, poolConfig map[string]string) (int64, error) {
 	tx, err := dbBegin(db)
 	if err != nil {
 		return -1, err
diff --git a/lxd/patches.go b/lxd/patches.go
index e535da70..e3db87b6 100644
--- a/lxd/patches.go
+++ b/lxd/patches.go
@@ -1433,7 +1433,7 @@ func upgradeFromStorageTypeZfs(name string, d *Daemon, defaultPoolName string, d
 		}
 
 		// (Use a tmp variable as Go's scoping is freaking me out.)
-		tmp, err := dbStoragePoolCreate(d.db, poolName, defaultStorageTypeName, "", poolConfig)
+		tmp, err := dbStoragePoolCreate(d.db, poolName, "", defaultStorageTypeName, poolConfig)
 		if err != nil {
 			logger.Warnf("Storage pool already exists in the database. Proceeding...")
 		}
